generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Users {
  id      String          @id @default(auto()) @map("_id") @db.ObjectId
  name    String
  email   String
  pwd     String
  records PatientRecord[]
}

model PatientRecord {
  id         String   @id @default(auto()) @map("_id") @db.ObjectId
  name       String
  date       String
  category   String // 
  recordType String // 'patientProfile' | 'labResult' | 'doctorsNote'
  priority   String // 'emergency' | 'medium' | 'low'
  statusType String // 'pending' | 'complete' | 'rejected' 
  owner      Users?   @relation(fields: [oid], references: [id])
  oid        String?  @db.ObjectId
  Patient    Patient? @relation(fields: [patientId], references: [id])
  patientId  String?  @db.ObjectId
}

model Patient {
  id      String          @id @default(auto()) @map("_id") @db.ObjectId
  name    String
  pwd     String
  records PatientRecord[]
}
